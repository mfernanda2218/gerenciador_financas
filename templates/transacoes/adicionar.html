{% extends 'base.html' %}

{% block title %}Adicionar Transação - Gerenciador de Finanças{% endblock %}

{% block content %}
<div class="flex items-center justify-center min-h-full">
    <div class="w-full max-w-lg bg-white p-8 rounded-lg shadow-md">
        <h2 class="text-2xl font-bold text-center text-gray-800 mb-6">Adicionar Nova Transação</h2>
        <form method="POST" action="{{ url_for('transacoes.adicionar_transacao') }}">
            <div class="mb-4">
                <label for="descricao" class="block text-gray-700 text-sm font-bold mb-2">Descrição:</label>
                <input type="text" id="descricao" name="descricao" class="form-input" required>
            </div>
            <div class="mb-4">
                <label for="valor" class="block text-gray-700 text-sm font-bold mb-2">Valor:</label>
                <input type="number" id="valor" name="valor" class="form-input" step="0.01" min="0" required>
            </div>
            <div class="mb-4">
                <label for="data" class="block text-gray-700 text-sm font-bold mb-2">Data:</label>
                <input type="date" id="data" name="data" class="form-input" value="{{ data_hoje }}">

            </div>
            <div class="mb-4">
                <label for="tipo" class="block text-gray-700 text-sm font-bold mb-2">Tipo:</label>
                <select id="tipo" name="tipo" class="form-input" required>
                    <option value="despesa">Despesa</option>
                    <option value="receita">Receita</option>
                </select>
            </div>
            <div class="mb-6">
                <label for="categoria_id" class="block text-gray-700 text-sm font-bold mb-2">Categoria:</label>
                <select id="categoria_id" name="categoria_id" class="form-input">
                    <option value="none">Nenhuma</option>
                    {% for categoria in categorias %}
                    <option value="{{ categoria.id }}">{{ categoria.nome }} ({{ categoria.tipo | capitalize }})</option>
                    {% endfor %}
                </select>
                <p class="text-sm text-gray-600 mt-2">
                    Não encontrou a categoria? <a href="{{ url_for('transacoes.adicionar_categoria') }}"
                        class="text-blue-500 hover:underline">Adicionar nova categoria</a>.
                </p>
            </div>
            <button type="submit" class="btn-primary w-full">Adicionar Transação</button>
        </form>
    </div>
</div>
{% endblock %}